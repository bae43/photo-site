<html>
	<head>

	</head>
	<body onload="checkHash();">

		<a href="#foo" onclick="checkHash()">go to foo</a>
		<br>
		<a href="#bar">go to bar</a>

		<p>
			something in between
		</p>

		<a name="foo">foo</a>
		<br>
		<a name="bar">bar</a>

		<script type="text/javascript">
      function checkHash() {
        // Check URL using setTimeout as it may not change before
        // listener is called
        window.setTimeout(doHashCheck, 10)
      }

      var doHashCheck = (function(global) {
        return function() {
          var fnName = window.location.hash.replace(/^#/, '');
          console.log(fnName);
          // fnName should be a native function, not a host method
          if ( typeof global[fnName] == 'function') {
            global[fnName]();
          }
        }
      })(this);

      function foo() {
        alert('foo');
      }

      if (!window.console)
        window.console = {};
      if (!console.log)
        console.log = window.alert;
		</script>
	</body>
</html>